<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Hearthstone Game Room</title>
    <link rel="stylesheet" href="/css/game-room.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.6.1/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
</head>
<body>
<div class="game-board">
    <div id="card-detail-popover">
        <h3 id="popover-name">카드 이름</h3>
        <p>비용: <span id="popover-cost"></span> | 공격력: <span id="popover-attack"></span> | 체력: <span id="popover-health"></span></p>
        <p id="popover-description">카드 설명</p>
        <p class="keywords" id="popover-keywords"></p>
    </div>
    <div id="attack-arrow"></div>

    <div class="center-board">
        <div id="opponent-hand" class="hand-container opponent"></div>

        <div id="opponent-hero-container" class="hero-container">
            <div id="opponent-hero-target" class="hero-target-area">
                <img id="opponent-hero-image" alt="Opponent Hero">
                <div class="health" id="opponent-health">30</div>
            </div>
            <button id="opponent-hero-power" class="hero-power-btn" disabled></button>
        </div>

        <div id="opponent-field" class="field-container"></div>
        
        <div id="my-field" class="field-container" 
             ondragover="handleDragOverField(event)" 
             ondragleave="handleDragLeaveField(event)" 
             ondrop="dropOnMyField(event)">
        </div>

        <div id="my-hero-container" class="hero-container">
            <div id="my-hero-target" class="hero-target-area">
                <img id="my-hero-image" alt="My Hero">
                <div class="health" id="my-health">30</div>
            </div>
            <button id="my-hero-power" class="hero-power-btn" disabled></button>
        </div>

        <div id="my-hand" class="hand-container me"></div>
    </div>

    <div class="right-ui-container">
        <div class="player-info opponent-info">
            <div id="opponent-deck" class="deck-display">
                <span id="opponent-deck-count">30</span>
            </div>
            <div id="opponent-mana" class="mana-display">0 / 0</div>
        </div>
        <div class="center-area">
            <button id="endTurnButton" disabled>턴 종료</button>
            <div id="turn-info">게임 로딩 중...</div>
        </div>
        <div class="player-info my-info">
            <div id="my-deck" class="deck-display">
                <span id="my-deck-count">30</span>
            </div>
            <div id="my-mana" class="mana-display">0 / 0</div>
        </div>
    </div>
    
    <div class="info-bar">
        <button id="concedeButton" disabled>항복</button>
        <div id="gameOverControls" style="display: none;">
            <button id="playAgainSameDeckButton">같은 덱으로 다시하기</button>
            <a href="/deck"><button>덱 선택으로</button></a>
        </div>
    </div>
</div>

    <script>
        const GAME_DATA = {
            roomNo: "{{roomNo}}",
            currentUserId: "{{user.id}}",
            initialGameStateJson: `{{{initialGameStateJson}}}` || null
        };
    </script>
    <script src="/js/game-room.js"></script>

</body>
</html>