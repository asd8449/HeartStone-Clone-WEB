<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>카드 목록</title>
<style>
  tr[data-id] {
    cursor: pointer;
    transition: background-color 0.2s ease;
  }
  tr[data-id]:hover {
    background-color: #f0f0f0;
  }
  .card-thumbnail {
    width: 80px;
    border-radius: 5px;
  }
</style>
</head>
<body>
<form method="get" action="/card">
  비용 ≥ <input type="number" name="minCost" value="{{minCost}}" style="width:4em"/>
  정렬: 
  <select name="sortBy">
    <option value=""      {{^sortBy}}selected{{/sortBy}}>기본</option>
    <option value="cost"   {{#selCost}}selected{{/selCost}}>비용</option>
    <option value="attack" {{#selAttack}}selected{{/selAttack}}>공격력</option>
    <option value="health" {{#selHealth}}selected{{/selHealth}}>체력</option>
  </select>
  <button type="submit">적용</button>
</form>

<table border="1">
  <tr>
    <th>이미지</th> <th>카드명</th><th>비용</th><th>공격력</th><th>체력</th>
  </tr>
  {{#cardList}}
  <tr data-id="{{no}}">
    <td><img src="{{imageUrl}}" alt="{{name}}" class="card-thumbnail"></td>
    <td>{{name}}</td>
    <td>{{cost}}</td>
    <td>{{attack}}</td>
    <td>{{health}}</td>
  </tr>
  {{/cardList}}
</table>
<script>
	document.addEventListener('DOMContentLoaded', function(){
		document.querySelectorAll('tr[data-id]').forEach(function(row){
			row.addEventListener('click', function(){
				var cardId = this.getAttribute('data-id')
				window.location.href = '/card/' + cardId
			})
		})
	})
</script>

</body>
</html>